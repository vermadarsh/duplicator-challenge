jQuery(document).ready((function(e){"use strict";var n=DuplicatorAdminJsObj.ajaxurl,a=DuplicatorAdminJsObj.scan_in_progress,s=DuplicatorAdminJsObj.scan_completed,t=DuplicatorAdminJsObj.ajax_nonce;function c(o,r,d,i){var l=i.text();e.ajax({dataType:"JSON",url:n,type:"POST",data:{action:"scan_site",nonce:t,page:o,files_per_iteration:r,last_scanned_index:d},beforeSend:function(){e(".dup-scan-site").addClass("non-clickable"),e(".dup-scan-site").text(a)},success:function(n){"scan-in-progress"===n.data.code&&(e("table.scanned-dirs.form-table tbody").append(n.data.html),e("table.scanned-dirs.form-table, .scan-in-progress").removeClass("d-none"),setTimeout((function(){c(++o,r,n.data.last_scanned_index)}),400)),"scan-complete"===n.data.code&&e(".scan-in-progress").text(s)},error:function(e){console.warn("Error occured. Please try again. Status: "+e.statusText+". Text: "+e.responseText)},complete:function(){e("html, body").animate({scrollTop:e(".scan-in-progress").offset().top},3e3),e(".dup-scan-site").removeClass("non-clickable"),e(".dup-scan-site").text(l)}})}e(document).on("click",".dup-scan-site",(function(n){n.preventDefault();c(1,200,0,e(this)),e("table.scanned-dirs.form-table").hasClass("d-none")||e("table.scanned-dirs.form-table").addClass("d-none")}))}));